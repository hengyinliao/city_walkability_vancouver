project_settings:
  # --- General project settings ----------------------------------------------
  # These US-only settings are ignored when use_custom_blocks = true, but
  # they must still exist so the script can read the config without errors.
  state_name: ""
  county_name: ""
  subset_to_city: false
  city_name: "Vancouver"

  # Working CRS: BC Albers (good for Vancouver and all of BC)
  # You can also use just "EPSG:3005", but the full proj string is explicit.
  working_crs: "+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +datum=NAD83 +units=m +no_defs"

  # Block filtering / simplification
  remove_water_bodies: false          # StatsCan DAs are usually land-only; keep false at first
  water_body_area_threshold: 0.25     # Only used if remove_water_bodies = true
  subset_to_populated_blocks: true
  min_block_size: 0                   # m²; start with 0, increase later if you want to drop tiny polygons
  simplify_tolerance: 20              # meters: how aggressively to simplify polygons for the viz layer
  buffer: 5000                        # meters buffer around the city for OSM + DEM

  census_year: 2021                   # Only really relevant for documentation here

  # --- NEW: non-US cities use custom blocks ----------------------------------
  use_custom_blocks: true

  # Path to your Vancouver polygon layer (e.g. Dissemination Areas or custom blocks)
  # Make sure this file exists before you run script (1).
  custom_blocks_path: "data/custom/vancouver_blocks.gpkg"

  # Name of the unique ID field in that layer
  # (example: StatsCan DA boundaries usually have a "DAUID" column)
  custom_blocks_id_field: "DAUID"

  # Name of the population field in that layer
  # (you may need to join Census population to the polygons first)
  custom_blocks_pop_field: "POP_2021"
  
  # r5r memory
  r5_mem_gb: 4

# -----------------------------------------------------------------------------  
# Directories – these will be created automatically by script (1)
# You can change them if you like; just keep them consistent across scripts.
directories:
  raw_data: "data/raw"               # OSM full extract is downloaded here
  prepared_data: "data/prepared"     # Outputs from script (1) are written here
  r5r_network: "data/r5r_network"    # Used in later scripts (2–4)
  results: "results"                 # Final travel-time results from script (4)

# -----------------------------------------------------------------------------  
# Download paths  
download_paths:
  # Full OSM extract for British Columbia from Geofabrik
  # (script (1) will crop it down to the Vancouver bbox with osmosis)
  osm_extract: "https://download.geofabrik.de/north-america/canada/british-columbia-latest.osm.pbf"

# -----------------------------------------------------------------------------  
# OSM destination types used in script (2); you can add more later.
osm_destination_queries:
  Supermarkets:
    shop: ["supermarket"]

  Restaurants:
    amenity: ["restaurant"]

  Coffee:
    amenity: ["cafe"]

# -----------------------------------------------------------------------------  
# Elevation raster settings for OpenTopography (script (1), section 3)
elevation_raster_settings:
  z: 13
  clip: "bbox"
  neg_to_na: true
